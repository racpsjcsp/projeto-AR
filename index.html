


jade-even-manta

Show
index.html
<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
​
    <script>
      var isVisible = false;
      AFRAME.registerComponent('registerevents', {
                init: function () {
                  var marker = this.el;
​
                  // Make the element emit events when found and when lost.
                  marker.setAttribute('emitevents', 'true');
​
                  marker.addEventListener('markerFound', function() {
                    var markerId = marker.id;
                    console.log('markerFound', markerId);
​
                    if (!isVisible) {
​
                      // pergunta esta visivel
                      isVisible = true
​
                      setTimeout(function(){
​
                          var resposta = prompt("Qual o nome desta figura?", "
");
                          if (resposta !== null) {
                              let progress = document.getElementById("vida");
                              let placar = document.getElementById("placar");
                              let vida = progress.attributes[1].value;
​
​
                              if ((markerId == 'marcador_C' && resposta.toLowerCase() == 'cachorro') ||
                                  (markerId == 'marcador_Z' && resposta.toLowerCase() == 'zebra') ||
                                  (markerId == 'marcador_T' && resposta.toLowerCase() == 'tartaruga') ||
                                  (markerId == 'marcador_U' && resposta.toLowerCase() == 'urso') ||
                                  (markerId == 'marcador_G' && resposta.toLowerCase() == 'gato'))
                              {
                                  alert("Acertou!");
                              } else {
​
                                   if (vida - 10 > 0) {
                                    alert("Errou!");
                                    progress.attributes[1].value = vida - 10;
                                    placar.innerHTML = "Placar: <span style='color:red;'>" + (vida - 10) + " pontos</span>";
​
                                   } else {
                                     progress.attributes[1].value = vida - 10;
                                     placar.innerHTML = "Placar: <span style='color:red;'>GAME OVER!!!</span>";
                                     alert("Game Over!!! Atualize a página...");
                                   }
​
                              }
                          }
                          isVisible = false;
                          resposta = null;
​
                        }, 1000)
​
                    }
​
                  });
​
                  marker.addEventListener('markerLost', function() {
                    var markerId = marker.id;
                    console.log('markerLost', markerId);
                    // TODO: Add your own code here to react to the marker being lost.
                  });
                }
​
         });
    </script>
  </head>
  <!-- ------------------------------------------------------- -->
  <body style="margin : 0px; overflow: hidden;">
